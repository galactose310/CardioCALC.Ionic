<!--
  Generated template for the DukePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon color="primary" name="menu"></ion-icon>
        </button>
        <ion-title>Critères de Duke modifiés</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    
    <form (ngSubmit)="display();">
        
        <ion-list no-lines>
            
            <ion-list-header mode="ios" class="menu-list-header">Critères histologiques</ion-list-header>
            
            <ion-item>
                <ion-label color="dark">Micro-organismes</ion-label>
                <button ion-button item-end clear (click)="item_help('anapathMicroorganism'); false;">
                    <ion-icon name='help-circle'></ion-icon>
                </button>
                <ion-toggle color="secondary" name="anapathMicroorganism" [(ngModel)]="anapathMicroorganism" (ionChange)="pathological_toggle();"></ion-toggle>
            </ion-item>
            
            <ion-item>
                <ion-label color="dark">Lésions histologiques</ion-label>
                <button ion-button item-end clear (click)="item_help('anapathLesion'); false;">
                    <ion-icon name='help-circle'></ion-icon>
                </button>
                <ion-toggle color="secondary" name="anapathLesion" [(ngModel)]="anapathLesion" (ionChange)="pathological_toggle();"></ion-toggle>
            </ion-item>
            
        </ion-list>
        
        <ion-list no-lines *ngIf="!pathologicalCriteria">
            
            <ion-list-header mode="ios" class="menu-list-header">Critres cliniques majeurs</ion-list-header>
            
            <ion-item>
                <ion-label color="dark">Hémocultures positives</ion-label>
                <ion-toggle color="secondary" name="positiveBloodCultures" [(ngModel)]="positiveBloodCultures"></ion-toggle>
            </ion-item>
            
            <ion-list radio-group name="microorganism" [(ngModel)]="microorganism" no-lines padding-left class="no-padding" *ngIf="positiveBloodCultures">
                <ion-item>
                    <ion-label>Micro-organismes typiques</ion-label>
                    <ion-radio [value]="typical" selected="microorganism == 'typical'" (ionSelect)="item_help('typicalMicroOrganism');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>Micro-organismes cohérents</ion-label>
                    <ion-radio [value]="coherent" (ionSelect)="item_help('coherentMicroOrganism');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>Coxiella burnetii</ion-label>
                    <ion-radio [value]="coxiella" (ionSelect)="item_help('coxiella');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>Autres micro-organismes</ion-label>
                    <ion-radio (ionSelect)="microorganism = null; positiveBloodCultures = false; minorMicroorganism = true; item_help('othermicro')" item-end></ion-radio>
                </ion-item>
            </ion-list>
            
            <ion-item>
                <ion-label color="dark">Imagerie positive</ion-label>
                <ion-toggle color="secondary" name="positiveImaging" [(ngModel)]="positiveImaging"></ion-toggle>
            </ion-item>
            
            <ion-list radio-group name="imaging" [(ngModel)]="imaging" no-lines padding-left class="no-padding" *ngIf="positiveImaging">
                <ion-item>
                    <ion-label>Echocardiographie</ion-label>
                    <ion-radio [value]="echocardiography" (ionSelect)="item_help('echocardiography');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>PET-scanner (18F-FDG)</ion-label>
                    <ion-radio [value]="petscan" (ionSelect)="item_help('petscan');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>Scintigraphie</ion-label>
                    <ion-radio [value]="spect" (ionSelect)="item_help('spect');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>Scanner cardiaque</ion-label>
                    <ion-radio [value]="cardiacct" (ionSelect)="item_help('cardiacct');" item-end></ion-radio>
                </ion-item>
                <ion-item>
                    <ion-label>Aucun de ces examens</ion-label>
                    <ion-radio (ionSelect)="imaging = null; positiveImaging = false;" item-end></ion-radio>
                </ion-item>
            </ion-list>
            
        </ion-list>
        
        <ion-list no-lines *ngIf="!pathologicalCriteria && !(positiveBloodCultures && positiveImaging)">
            
            <ion-list-header mode="ios" class="menu-list-header">Critères cliniques mineurs</ion-list-header>
            
            <ion-item>
                <ion-label color="dark">Prédisposition clinique</ion-label>
                <button ion-button item-end clear (click)="item_help('predisposition'); false;">
                    <ion-icon name='help-circle'></ion-icon>
                </button>
                <ion-toggle color="secondary" name="predisposition" [(ngModel)]="predisposition"></ion-toggle>
            </ion-item>
            
            <ion-item>
                <ion-label color="dark">Fièvre > 38°C</ion-label>
                <ion-toggle color="secondary" name="fever" [(ngModel)]="fever"></ion-toggle>
            </ion-item>
            
            <ion-item>
                <ion-label color="dark">Manifestation vasculaires</ion-label>
                <button ion-button item-end clear (click)="item_help('vascularSigns'); false;">
                    <ion-icon name='help-circle'></ion-icon>
                </button>
                <ion-toggle color="secondary" name="vascularSigns" [(ngModel)]="vascularSigns"></ion-toggle>
            </ion-item>
            
            <ion-item>
                <ion-label color="dark">Manifestations immunologiques</ion-label>
                <button ion-button item-end clear (click)="item_help('immuneSigns'); false;">
                    <ion-icon name='help-circle'></ion-icon>
                </button>
                <ion-toggle color="secondary" name="immuneSigns" [(ngModel)]="immuneSigns"></ion-toggle>
            </ion-item>
            
            <ion-item>
                <ion-label color="dark">Preuves microbiologiques</ion-label>
                <button ion-button item-end clear (click)="item_help('minorMicroorganism'); false;">
                    <ion-icon name='help-circle'></ion-icon>
                </button>
                <ion-toggle color="secondary" name="minorMicroorganism" [(ngModel)]="minorMicroorganism"></ion-toggle>
            </ion-item>
            
        </ion-list>
        
        <button ion-button type="submit">CALCULER</button>
        
    </form>
    
    <div id="item_description">
        <p>
            Critères de Duke modifiés pour le diagnostic d'une endocardite infectieuse (EI). Le diagnostic et la prise en charge de l'endocardite infectieuse doivent être discutés au sein d'une équipe médico-chirurgicale spécialisée (<em>endocarditis team</em>).
        </p>
        <p id="item_source">
            Source :
            <a href="https://doi.org/10.1086/313753">
                Proposed modifications to the Duke criteria for the diagnosis of infective endocarditis.
                Li JS, et al. Clinical Infectious Diseases, 2000;30(4):633-8.
            </a>
        </p>
        <p id="item_source">
            Recommandations :
            <a href="https://doi.org/10.1093/eurheartj/ehv319">
                2015 ESC Guidelines for the management of infective endocarditis: The Task Force for the Management of Infective Endocarditis of the European Society of Cardiology.
                Habib G, et al. European Heart Journal, 2015;36(44):3075-128.
            </a>
        </p>
    </div>
    
</ion-content>
